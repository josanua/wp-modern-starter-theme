class h{constructor(){this.siteNavigation=document.getElementById("site-navigation"),this.button=null,this.menu=null,this.links=[],this.linksWithChildren=[]}init(){if(this.siteNavigation&&(this.button=this.siteNavigation.querySelector("button"),!!this.button)){if(this.menu=this.siteNavigation.querySelector("ul"),!this.menu){this.button.style.display="none";return}this.setupMenu(),this.bindEvents()}}setupMenu(){this.menu.classList.contains("nav-menu")||this.menu.classList.add("nav-menu"),this.links=[...this.menu.querySelectorAll("a")],this.linksWithChildren=[...this.menu.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a")]}bindEvents(){this.button.addEventListener("click",t=>{t.preventDefault(),this.toggleMenu()}),document.addEventListener("click",t=>{this.siteNavigation.contains(t.target)||this.closeMenu()}),this.links.forEach(t=>{t.addEventListener("focus",e=>this.toggleFocus(e),!0),t.addEventListener("blur",e=>this.toggleFocus(e),!0)}),this.linksWithChildren.forEach(t=>{t.addEventListener("touchstart",e=>this.handleTouch(e),!1)}),document.addEventListener("keydown",t=>{t.key==="Escape"&&this.siteNavigation.classList.contains("toggled")&&(this.closeMenu(),this.button.focus())})}toggleMenu(){const t=this.button.getAttribute("aria-expanded")==="true";if(this.siteNavigation.classList.toggle("toggled"),this.button.setAttribute("aria-expanded",!t),!t){const e=this.menu.querySelector("a");e&&e.focus()}}closeMenu(){this.siteNavigation.classList.remove("toggled"),this.button.setAttribute("aria-expanded","false")}toggleFocus(t){let e=t.target;for(;!e.classList.contains("nav-menu");)e.tagName.toLowerCase()==="li"&&(t.type==="focus"?e.classList.add("focus"):t.type==="blur"&&e.classList.remove("focus")),e=e.parentNode}handleTouch(t){const e=t.target.parentNode;t.preventDefault();for(const s of e.parentNode.children)e!==s&&s.classList.remove("focus");e.classList.toggle("focus")}}class f{constructor(){this.isScrolling=!1}init(){this.initSmoothScroll(),this.initLazyLoading()}initSmoothScroll(){document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(e=>{e.addEventListener("click",s=>{const n=e.getAttribute("href"),o=document.querySelector(n);o&&(s.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"}))})})}initLazyLoading(){const t=document.querySelectorAll("img[data-src]");if("IntersectionObserver"in window){const e=new IntersectionObserver(s=>{s.forEach(n=>{if(n.isIntersecting){const o=n.target;o.src=o.dataset.src,o.classList.remove("lazy"),e.unobserve(o)}})});t.forEach(s=>e.observe(s))}else t.forEach(e=>{e.src=e.dataset.src,e.classList.remove("lazy")})}debounce(t,e){let s;return function(...o){const i=()=>{clearTimeout(s),t(...o)};clearTimeout(s),s=setTimeout(i,e)}}throttle(t,e){let s;return function(...n){s||(t.apply(this,n),s=!0,setTimeout(()=>s=!1,e))}}}class m{constructor(){this.tocContainer=document.querySelector(".post-article__toc-list"),this.contentText=document.querySelector(".post-article__content-text"),this.shareButtons=document.querySelectorAll(".post-actions__share-btn"),this.reactionButtons=document.querySelectorAll(".post-actions__reaction-btn"),this.postId=document.querySelector(".post-article")?.id?.replace("post-","")||null}init(){this.isOnSinglePost()&&(this.generateTableOfContents(),this.initSocialSharing(),this.initPostReactions(),this.initSmoothScrolling())}isOnSinglePost(){return document.body.classList.contains("single-post")||document.querySelector(".post-article")!==null}generateTableOfContents(){if(!this.tocContainer||!this.contentText)return;const t=this.contentText.querySelectorAll("h2, h3, h4");if(t.length===0){const e=document.querySelector(".post-article__toc");e&&(e.style.display="none");return}this.tocContainer.innerHTML="",t.forEach((e,s)=>{e.id||(e.id=`heading-${s+1}`);const n=document.createElement("li"),o=document.createElement("a");o.href=`#${e.id}`,o.textContent=e.textContent,o.className=`toc-link toc-link--${e.tagName.toLowerCase()}`,o.addEventListener("click",i=>{i.preventDefault(),this.scrollToHeading(e.id)}),n.appendChild(o),this.tocContainer.appendChild(n)}),this.initScrollSpy()}initScrollSpy(){if(!this.tocContainer)return;const t=this.tocContainer.querySelectorAll("a"),e=Array.from(this.contentText.querySelectorAll("h2, h3, h4"));let s=!1;const n=()=>{s||window.requestAnimationFrame(()=>{const o=window.innerHeight;let i=null;for(let r=e.length-1;r>=0;r--){const l=e[r];if(l.getBoundingClientRect().top<=o*.3){i=l;break}}if(t.forEach(r=>r.classList.remove("active")),i){const r=this.tocContainer.querySelector(`a[href="#${i.id}"]`);r&&r.classList.add("active")}s=!1}),s=!0};window.addEventListener("scroll",n,{passive:!0})}scrollToHeading(t){const e=document.getElementById(t);if(!e)return;const s=document.querySelector(".navbar")?.offsetHeight||0,n=e.offsetTop-s-20;window.scrollTo({top:n,behavior:"smooth"})}initSocialSharing(){this.shareButtons.length&&this.shareButtons.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const s=this.getPlatformFromButton(t),n=t.dataset.url||window.location.href,o=t.dataset.title||document.title;this.shareToSocial(s,n,o)})})}getPlatformFromButton(t){return t.classList.contains("post-actions__share-btn--twitter")?"twitter":t.classList.contains("post-actions__share-btn--facebook")?"facebook":t.classList.contains("post-actions__share-btn--linkedin")?"linkedin":t.classList.contains("post-actions__share-btn--copy")?"copy":"unknown"}shareToSocial(t,e,s){const n=encodeURIComponent(e),o=encodeURIComponent(s);let i="";switch(t){case"twitter":i=`https://twitter.com/intent/tweet?url=${n}&text=${o}`;break;case"facebook":i=`https://www.facebook.com/sharer/sharer.php?u=${n}`;break;case"linkedin":i=`https://www.linkedin.com/sharing/share-offsite/?url=${n}`;break;case"copy":this.copyToClipboard(e);return}if(i){const r=window.open(i,"share","width=600,height=400,scrollbars=yes,resizable=yes");r&&r.focus()}}async copyToClipboard(t){try{await navigator.clipboard.writeText(t);const e=document.querySelector(".post-actions__share-btn--copy");if(e){const s=e.innerHTML;e.innerHTML='<i class="fas fa-check"></i>',e.style.background="#28a745",setTimeout(()=>{e.innerHTML=s,e.style.background=""},2e3)}}catch{const s=document.createElement("textarea");s.value=t,s.style.position="fixed",s.style.left="-999999px",s.style.top="-999999px",document.body.appendChild(s),s.focus(),s.select();try{document.execCommand("copy")}catch(n){console.error("Failed to copy URL:",n)}document.body.removeChild(s)}}initPostReactions(){!this.reactionButtons.length||!this.postId||(this.reactionButtons.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const s=t.classList.contains("post-actions__reaction-btn--like"),n=t.classList.contains("post-actions__reaction-btn--bookmark");s?this.handleLikeReaction(t):n&&this.handleBookmarkReaction(t)})}),this.loadSavedReactions())}handleLikeReaction(t){const e=t.classList.contains("active"),s=t.querySelector(".post-actions__like-count");e?(t.classList.remove("active"),this.decrementLikeCount(s),this.saveReaction("like",!1)):(t.classList.add("active"),this.incrementLikeCount(s),this.saveReaction("like",!0),this.animateHeart(t))}handleBookmarkReaction(t){t.classList.contains("active")?(t.classList.remove("active"),this.saveReaction("bookmark",!1)):(t.classList.add("active"),this.saveReaction("bookmark",!0),this.animateBookmark(t))}incrementLikeCount(t){if(!t)return;const e=parseInt(t.textContent)||0;t.textContent=e+1}decrementLikeCount(t){if(!t)return;const e=parseInt(t.textContent)||0;e>0&&(t.textContent=e-1)}animateHeart(t){const e=t.querySelector("i");e&&(e.style.transform="scale(1.3)",e.style.transition="transform 0.3s ease",setTimeout(()=>{e.style.transform="scale(1)"},300))}animateBookmark(t){const e=t.querySelector("i");e&&(e.style.transform="scale(1.2) rotateY(180deg)",e.style.transition="transform 0.4s ease",setTimeout(()=>{e.style.transform="scale(1) rotateY(0deg)"},400))}saveReaction(t,e){if(!this.postId)return;const s=`post_reactions_${this.postId}`,n=JSON.parse(localStorage.getItem(s)||"{}");n[t]=e,localStorage.setItem(s,JSON.stringify(n))}loadSavedReactions(){if(!this.postId)return;const t=`post_reactions_${this.postId}`,e=JSON.parse(localStorage.getItem(t)||"{}");if(e.like){const s=document.querySelector(".post-actions__reaction-btn--like");s&&s.classList.add("active")}if(e.bookmark){const s=document.querySelector(".post-actions__reaction-btn--bookmark");s&&s.classList.add("active")}}}document.addEventListener("DOMContentLoaded",()=>{new h().init(),new f().init(),new m().init(),p(),v(),y(),g()});function p(){const a=document.querySelectorAll(".hero-section__float-element");a.length>0&&a.forEach(t=>{const e=t.dataset.speed||1;t.style.animation=`heroFloat ${3*e}s ease-in-out infinite`,t.style.animationDelay=`${parseFloat(e)*.5}s`})}function v(){setTimeout(()=>{document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(s=>{s.removeAttribute("data-bs-toggle"),s.removeAttribute("aria-expanded")}),document.querySelectorAll(".dropdown > a, .dropdown > .nav-link").forEach(s=>{s.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const o=s.closest(".dropdown"),i=o.querySelector(".dropdown-menu");if(i){const r=window.innerWidth<1200,l=r?"#navbarNav":".navbar-nav";document.querySelectorAll(`${l} .dropdown`).forEach(d=>{if(d!==o){d.classList.remove("show");const c=d.querySelector(".dropdown-menu");c&&(c.classList.remove("show"),c.style.position="",c.style.inset="",c.style.margin="",c.style.transform="")}}),o.classList.contains("show")?(o.classList.remove("show"),i.classList.remove("show"),i.style.position="",i.style.inset="",i.style.margin="",i.style.transform=""):(o.classList.add("show"),i.classList.add("show"),r&&(i.style.position="static"))}}),s.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),s.click())})}),document.addEventListener("click",s=>{s.target.closest(".dropdown")||document.querySelectorAll(".dropdown.show").forEach(o=>{o.classList.remove("show");const i=o.querySelector(".dropdown-menu");i&&(i.classList.remove("show"),i.style.position="",i.style.inset="",i.style.margin="",i.style.transform="")})});const e=document.getElementById("navbarNav");e&&e.addEventListener("hidden.bs.collapse",()=>{document.querySelectorAll("#navbarNav .dropdown").forEach(n=>{n.classList.remove("show");const o=n.querySelector(".dropdown-menu");o&&(o.classList.remove("show"),o.style.position="",o.style.inset="",o.style.margin="",o.style.transform="")})})},100)}function y(){const a=document.querySelector(".mobile-toggle"),t=document.getElementById("navbarNav");!a||!t||(a.classList.add("collapsed"),a.setAttribute("aria-expanded","false"),t.addEventListener("show.bs.collapse",()=>{a.classList.remove("collapsed"),a.setAttribute("aria-expanded","true")}),t.addEventListener("hide.bs.collapse",()=>{a.classList.add("collapsed"),a.setAttribute("aria-expanded","false")}),a.addEventListener("click",e=>{a.style.transform="scale(0.95)",setTimeout(()=>{a.style.transform=""},150)}))}function g(){const a=document.querySelector(".navbar");if(!a)return;let t=!1;function e(){t||window.requestAnimationFrame(()=>{const s=window.pageYOffset||document.documentElement.scrollTop;window.innerWidth>=1200&&s>50?a.classList.add("navbar-shrink"):a.classList.remove("navbar-shrink"),t=!1}),t=!0}window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",()=>{window.innerWidth<1200?a.classList.remove("navbar-shrink"):(window.pageYOffset||document.documentElement.scrollTop)>50?a.classList.add("navbar-shrink"):a.classList.remove("navbar-shrink")}),window.innerWidth>=1200&&(window.pageYOffset||document.documentElement.scrollTop)>50&&a.classList.add("navbar-shrink")}
